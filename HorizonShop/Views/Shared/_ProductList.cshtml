@model IEnumerable<HorizonShop.Models.Product>

@if (ViewBag.SearchTerm != null)
{
    <h2 class="text-center mb-30">
        Search Results for: <span class="text-highlight">"@ViewBag.SearchTerm"</span>
    </h2>
    <div class="text-center mb-20">
        <a href="@Url.Action("Index", "Home")" class="link-back">Clear Search</a>
    </div>
}
else
{
    <h2 class="text-center mb-30">Featured Products</h2>
}

<div class="grid-container">
    @if (Model != null && Model.Any())
    {
        foreach (var item in Model)
        {
            <div class="card" onclick="location.href='@Url.Action("Details", "Products", new { id = item.ProductId })'" style="cursor:pointer; transition: all 0.3s ease;">

                <a href="@Url.Action("Details", "Products", new { id = item.ProductId })" class="no-decoration color-dark d-block">

                    <div class="product-card-img-container">
                        <img src="@(string.IsNullOrEmpty(item.ImageUrl) ? Url.Content("~/Content/images/product/electronic-devices.png") : Url.Content("~/Content/" + item.ImageUrl))"
                             alt="@item.Name"
                             class="product-card-img">
                    </div>

                    <h3>@item.Name</h3>
                </a>

                <p class="price">$@item.Price</p>

                <a href="@Url.Action("AddToCart", "Cart", new { productId = item.ProductId })"
                   class="btn-submit mt-10 no-decoration d-block">
                    Add to Cart
                </a>
            </div>
        }
    }
    else
    {
        <div class="empty-state-box" style="grid-column: 1 / -1;">
            <i class="fas fa-search empty-state-icon"></i>
            <p class="text-muted">No products found matching your search.</p>
        </div>
    }
</div>