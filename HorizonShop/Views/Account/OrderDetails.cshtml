@model HorizonShop.Models.Order

@{
    ViewBag.Title = "Order Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<main class="container con-1">

    <div class="page-header-row">
        <section class="page-hero" style="margin-bottom:0;">
            <h1>Order #@Model.OrderId</h1>
            <p style="margin-bottom:0;">Placed on @Model.OrderDate.ToString("dd MMMM yyyy HH:mm")</p>
        </section>
        <a href="@Url.Action("Orders")" class="action-link edit">
            <i class="fas fa-arrow-left"></i> Back to Orders
        </a>
    </div>

    <div class="contact-card" style="padding: 30px;">
        <h3 class="cart-sidebar-header">Order Items</h3>

        <table class="styled-table w-100 mb-20">
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th class="text-right">Total</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.OrderItems)
                {
                    <tr>
                        <td>
                            <div class="d-flex align-center gap-10">
                                <img src="~/Content/@item.Product.ImageUrl" class="table-img-xs" alt="@item.Product.Name">
                                <span>@item.Product.Name</span>
                            </div>
                        </td>
                        <td>$@item.Price</td>
                        <td>x @item.Quantity</td>
                        <td class="text-right font-bold">$@(item.Price * item.Quantity)</td>
                    </tr>
                }
            </tbody>
            <tfoot>
                <tr style="background-color:#f9f9f9; font-size:18px;">
                    <td colspan="3" class="text-right font-bold p-15">Grand Total:</td>
                    <td class="text-right font-bold p-15 text-highlight">$@Model.TotalAmount</td>
                </tr>
            </tfoot>
        </table>

        <div class="d-flex gap-30" style="flex-wrap:wrap;">
            <div style="flex:1; min-width:250px;">
                <h4 class="mb-10">Shipping Address</h4>
                <p class="text-muted" style="line-height:1.6;">
                    @Model.ShippingAddress<br>
                    @Model.City, @Model.ZipCode<br>
                    Phone: @Model.Phone
                </p>
            </div>

            <div style="flex:1; min-width:250px;">
                <h4 class="mb-10">Payment & Status</h4>
                <p class="text-muted">
                    Status: <strong>@Model.Status</strong><br>
                    Payment Method: Credit Card
                </p>
            </div>
        </div>
    </div>
</main>